# 客户定制化构建的设想

## 当前的构建需要什么?

* air100st/air640w 当前基于rtt, 可以在windows/linux下,使用gcc进行编译
* air302 厂商提供的编译环境仅有windows版, 且keil绑定, 无法使用gcc
* air724 仅windows版, gcc可用
* win32/posix 通过github action已经证明多平台编译可行
* w800 独立编译环境,windows独享
* esp32 多平台编译均可, 无依赖

## 无法避开的问题

* 部分固件仅支持windows编译, 所以windows平台是唯一选择
* 依赖keil的固件编译, 而keil是需要特殊手段的, 机器码会是限制之一
* luatos.com域名备案在阿里云

## 方案设计

* C盘, 系统盘, 不放任何东西
* D盘, 数据盘, 按目录摆放项目和编译工具集
* OSS, 存放编译完成后的固件

购买方案:
1. 单一主机方案, 2vcore + 8G内存, 贵一点但省事
2. 主从设计, 利用现有linux服务器作为主机, 使用阿里云的"抢占式实例",实施动态编译任务, 更便宜但开发难度较大

## 如何区分固件呢?

例如, 启用eink 和 没启用eink, 两个固件, 命名上如何区分呢?

解决方式, 功能矩阵, 把各种库进行编号, 按位计入识别码. 识别码长度64位, 容纳64种功能模块.

